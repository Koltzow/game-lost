{"version":3,"sources":["webpack:///webpack/bootstrap bae8fecc1ddafb21c0b0","webpack:///./source/index.js","webpack:///./source/game.js","webpack:///./source/player.js","webpack:///./source/box.js","webpack:///./source/util.js","webpack:///./source/mouse.js","webpack:///./source/keyboard.js"],"names":["game","run","PLAYING","PAUSED","MENU","Game","mouse","keyboard","width","height","canvas","document","getElementById","context","getContext","state","ambient","boxes","player","lastTimestamp","Date","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","now","deltaTime","draw","update","loop","bind","setup","i","push","clearRect","fillStyle","Math","round","fillRect","clear","drawMenu","x","y","translate","length","drawDarkness","drawPause","ARROW_LEFT","ARROW_RIGHT","ARROW_UP","ARROW_DOWN","Player","vx","vy","rad","radius","speed","friction","colliding","jumping","light","fov","brightness","obj","shortest","resolve","left","right","top","bottom","deltaY","deltaX","atan2","isPressed","testCollision","resolveCollision","gradient","createRadialGradient","addColorStop","beginPath","arc","lineTo","fill","PI","Box","drawdist","px","py","w","h","corners","sort","a","b","l","r","moveTo","cos","sin","multiplier","offsetX","offsetY","x1","y1","x2","y2","dy","dx","calcLight","dist","sqrt","Mouse","addEventListener","mousemove","e","clientX","clientY","Keybord","pressedKeys","keydown","keyup","event","keyCode","key","code"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bae8fecc1ddafb21c0b0","import Game from './game';\n\nconst game = new Game();\n\ngame.run();\n\n\n\n// WEBPACK FOOTER //\n// ./source/index.js","import Player from './player';\nimport Box from './box';\nimport Mouse from './mouse';\nimport Keyboard from './keyboard';\n\nconst PLAYING     = 'PLAYING';\nconst PAUSED      = 'PAUSED';\nconst MENU        = 'MENU';\n\nexport default class Game {\n\n\tconstructor() {\n\n\t\tthis.mouse = new Mouse();\n\t\tthis.keyboard = new Keyboard();\n\n\t\t// set size\n\t\tthis.width = 1280;\n\t\tthis.height = 720;\n\n\t\t// canvas\n\t\tthis.canvas = document.getElementById('c');\n\t  this.canvas.width = this.width;\n\t\tthis.canvas.height = this.height;\n\n\t\t// get context\n\t\tthis.context = this.canvas.getContext(\"2d\");\n\n\t\t// set default state\n\t  this.state = PLAYING;\n\n\t  // set ambient light intensity\n\t  this.ambient = 0.3;\n\n\t  //game elements\n\t  this.boxes = [];\n\t  this.player = null;\n\n\t\t// set current timestamp\n\t\tthis.lastTimestamp = new Date();\n\n\t\t// shim layer with setTimeout fallback\n\t\twindow.requestAnimationFrame = (() => (\n\t\t\twindow.requestAnimationFrame       ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame    ||\n\t\t\t((callback) => window.setTimeout(callback, 1000 / 60))\n\t\t))();\n\n\t}\n\n\tloop() {\n\n\t\t// get current time\n\t\tconst now = new Date();\n\n\t\t// calulate deltatime\n  \tconst deltaTime = (now - this.lastTimestamp)/1000;\n\n\t\t// draw current state\n\t\tthis.draw();\n\n\t\t// update current state\n\t\tthis.update(deltaTime);\n\n\t\t// save current timestamp\n  \tthis.lastTimestamp = now;\n\n\t\t// request new frame and rerun loop\n\t\trequestAnimationFrame(this.loop.bind(this));\n\n\t}\n\n\trun() {\n\n\t\t// set up game for the first time\n\t\tthis.setup();\n\n\t\t// start the game loop\n\t\tthis.loop();\n\n\t}\n\n\tsetup() {\n\n\t\t// set player\n\t\tthis.player = new Player(this);\n\n\t\t// add boxed\n\t\tfor (let i = 0; i < 1; i++) {\n\t\t\tthis.boxes.push(new Box(i*100, i*100, 200, 200));\n\t\t}\n\n\t\t// add special box for testing\n\t\t//this.boxes.push(new Box(-200, 200, 200, 200));\n\n\t}\n\n\tclear() {\n\n\t\t// clear canvas\n\t\tthis.context.clearRect(0, 0, this.width, this.height);\n\n\t\t// fill with ambient color\n\t\tthis.context.fillStyle = 'rgb( '+Math.round(255*this.ambient)+','+Math.round(255*this.ambient)+','+Math.round(255*this.ambient)+')';\n\t\tthis.context.fillRect(0, 0, this.width, this.height);\n\t}\n\n\tupdate() {\n\n\t\t// check state\n\t\tswitch (this.state) {\n\t\t\tcase MENU:\n\t\t\t\tbreak;\n\t\t\tcase PLAYING:\n\n\t\t\t\t// update player\n\t\t\t\tthis.player.update(this);\n\n\t\t\t\tbreak;\n\t\t\tdefault:\n\n\t\t}\n\n\t}\n\n\tdraw() {\n\n\t\t// clear canvas\n\t\tthis.clear();\n\n\t\t// check state\n\t\tswitch (this.state) {\n\t\t\tcase MENU:\n\n\t\t\t\t// draw menu\n\t\t\t\tthis.drawMenu();\n\n\t\t\t\tbreak;\n\t\t\tcase PLAYING: {\n\n\t\t\t\t// get translate coordinates\n\t\t\t\tconst x = this.width/2 - this.player.x;\n\t\t\t\tconst y = this.height/2 - this.player.y;\n\n\t\t\t\t// translate the context\n\t\t\t\tthis.context.translate(x, y);\n\n\t\t\t\t// loop through and draw the boxes\n\t\t\t\tfor (let i = 0; i < this.boxes.length; i++) {\n\t\t\t\t\tthis.boxes[i].draw(this);\n\t\t\t\t}\n\n\t\t\t\t// draw the player\n\t\t\t\tthis.player.draw(this);\n\n\t\t\t\t// translate the context back\n\t\t\t\tthis.context.translate(-x, -y);\n\n\t\t\t\t// draw the darkness around the player\n\t\t\t\tthis.player.drawDarkness(this);\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase PAUSED:\n\n\t\t\t\t// draw pause menu\n\t\t\t\tthis.drawPause();\n\n\t\t\t\tbreak;\n\t\t\tdefault:\n\n\t\t}\n\n\t}\n\n\tpause() {\n\t\tthis.state = PAUSED;\n\t}\n\n\tunpause() {\n\t\tthis.state = PAUSED;\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./source/game.js","const ARROW_LEFT  = 'ArrowLeft';\nconst ARROW_RIGHT = 'ArrowRight';\nconst ARROW_UP    = 'ArrowUp';\nconst ARROW_DOWN  = 'ArrowDown';\n\nexport default class Player {\n\n\tconstructor() {\n\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t\tthis.vx = 0;\n\t\tthis.vy = 0;\n\t\tthis.rad = 0;\n\t\tthis.radius = 10;\n\t\tthis.speed = 0.5;\n\t\tthis.friction = 0.9;\n\t\tthis.colliding = false;\n\t\tthis.jumping = false;\n    this.light = {\n    \tfov: 1,\n    \tradius: 300,\n    \tbrightness: 0.5\n    };\n\n\t}\n\n\ttestCollision(obj) {\n\n\t\tif(\n\t\t\tthis.x + this.radius > obj.x &&\n\t\t\tthis.x - this.radius < obj.x + obj.width &&\n\t\t\tthis.y + this.radius > obj.y &&\n\t\t\tthis.y - this.radius < obj.y + obj.height\n\t\t){\n\t\t\tthis.colliding = true;\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tresolveCollision(obj) {\n\n\t\tlet shortest = 100000;\n\t\tlet resolve = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\n\t\tlet left = this.x + this.radius - obj.x;\n\t\tlet right = obj.x + obj.width - (this.x - this.radius);\n\t\tlet top = this.y + this.radius - obj.y;\n\t\tlet bottom = obj.y + obj.height - (this.y - this.radius);\n\n\t\tif (left < shortest) {\n\n\t\t\tshortest = left;\n\n\t\t\tresolve = {\n\t\t\t\tx: -left,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t}\n\n\t\tif(right < shortest) {\n\n\t\t\tshortest = right;\n\n\t\t\tresolve = {\n\t\t\t\tx: right,\n\t\t\t\ty: 0\n\t\t\t};\n\n\t\t}\n\n\t\tif(top < shortest) {\n\n\t\t\tshortest = top;\n\n\t\t\tresolve = {\n\t\t\t\tx: 0,\n\t\t\t\ty: -top\n\t\t\t};\n\t\t}\n\n\t\tif(bottom < shortest) {\n\n\t\t\tshortest = bottom;\n\n\t\t\tresolve = {\n\t\t\t\tx: 0,\n\t\t\t\ty: bottom\n\t\t\t};\n\t\t}\n\n\t\tthis.x += resolve.x;\n\t\tthis.y += resolve.y;\n\n\t}\n\n\tupdate(game) {\n\n\t\tconst {keyboard, mouse} = game;\n\n\t\tlet deltaY = mouse.y - game.height/2;\n\t\tlet deltaX = mouse.x - game.width/2;\n\t\tthis.rad = Math.atan2(deltaY, deltaX);\n\n\t\t//left\n\t\tif (keyboard.isPressed(ARROW_LEFT) || keyboard.isPressed('a')) {\n\t\t\tthis.vx -= this.speed;\n\t\t}\n\n\t\t//right\n\t\tif (keyboard.isPressed(ARROW_RIGHT) || keyboard.isPressed('d')) {\n\t\t\tthis.vx += this.speed;\n\t\t}\n\n\t\t//up\n\t\tif (keyboard.isPressed(ARROW_UP) || keyboard.isPressed('w')) {\n\t\t\tthis.vy -= this.speed;\n\t\t}\n\n\t\t//down\n\t\tif(keyboard.isPressed(ARROW_DOWN) || keyboard.isPressed('s')){\n\t\t\tthis.vy += this.speed;\n\t\t}\n\n\t\t//pos\n\t\tthis.x += this.vx;\n\t\tthis.y += this.vy;\n\n\t\t//friction\n\t\tthis.vx *= this.friction;\n\t\tthis.vy *= this.friction;\n\n\t\tthis.colliding = false;\n\n\t\tfor (let i = 0; i < game.boxes.length; i++) {\n\t\t\tif(this.testCollision(game.boxes[i])){\n\n\t\t\t\tthis.resolveCollision(game.boxes[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tdrawDarkness(game) {\n\n\t\tlet gradient = game.context.createRadialGradient(game.width/2, game.height/2, 0, game.width/2, game.height/2, this.light.radius*10);\n\t\tgradient.addColorStop(0, 'rgba(0,0,0,'+game.ambient+')');\n\t\tgradient.addColorStop(0.1, 'rgba(0,0,0,1)');\n\t\tgame.context.fillStyle = gradient;\n\n\t\tgame.context.fillRect(0, 0, game.width, game.height);\n\n\n\t}\n\n\tdrawLight(game) {\n\n\t\tlet gradient = game.context.createRadialGradient(game.width/2, game.height/2, 0, game.width/2, game.height/2, this.light.radius*10);\n\t\tgradient.addColorStop(0, 'rgba(255,255,255,1)');\n\t\tgradient.addColorStop(1, 'rgba(255,255,255,0)');\n\t\tgame.context.fillStyle = gradient;\n\n\t\t//draw circle\n\t\tgame.context.beginPath();\n\t\tgame.context.arc(\n\t\t\tthis.x,\n\t\t\tthis.y,\n\t\t\tthis.light.radius,\n\t\t\tthis.rad - this.light.fov,\n\t\t\tthis.rad + this.light.fov\n\t\t);\n\t\tgame.context.lineTo(this.x, this.y);\n\n\t\tgame.context.fill();\n\t}\n\n\tdraw(game) {\n\n\t\t//draw circle\n\t\tgame.context.beginPath();\n\t\tgame.context.arc(\n\t\t\tthis.x,\n\t\t\tthis.y,\n\t\t\tthis.radius,\n\t\t\t0,\n\t\t\t2*Math.PI\n\t\t);\n\t\tgame.context.fillStyle = 'rgb(255, 0, 255)';\n\t\tgame.context.fill();\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./source/player.js","import { rad, calcLight } from './util';\n\nexport default class Box {\n\n\tconstructor(x = 0, y = 0, width = 0, height = 0) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t}\n\n\tdraw(game) {\n\n\t\t// draw distance of shadows\n\t\tlet drawdist = 4000;\n\n\t\t// deconstruct objects\n\t\tconst {player, context} = game;\n\t\tconst {x: px, y: py} = player;\n\t\tconst {x, y, width: w, height: h} = this;\n\n\t\t// define corners and angle in radians to player\n\t\tlet corners = [\n\t\t\t{ x: x, y: y, rad: rad(x, y, px, py)},\n\t\t\t{ x: x, y: y + h, rad: rad(x, y + h, px, py)},\n\t\t\t{ x: x + w, y: y, rad: rad(x + w, y, px, py)},\n\t\t\t{ x: x + w, y: y + h, rad: rad(x + w, y + h, px, py)}\n\t\t];\n\n\t\t// sort corners by angle clockwise\n\t\tcorners.sort(function(a, b){\n\n\t\t\tif(a.rad - b.rad > Math.PI) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\tif(a.rad - b.rad < -Math.PI) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn (a.rad > b.rad);\n\t\t});\n\n\t\t// define gradient\n\t\tlet gradient = context.createRadialGradient(x + w/2, y + h/2, 0, x + w/2, y + h/2, 200);\n\t\tgradient.addColorStop(0, 'rgba(0,0,0,'+(1-game.ambient)+')');\n\t\tgradient.addColorStop(1, 'rgba(0,0,0,0)');\n\n\t\t// get edges\n\t\tconst [l, , ,r] = corners;\n\n\t\t// draw shadow\n\t\tcontext.beginPath();\n\t\tcontext.moveTo(l.x, l.y);\n    context.lineTo(l.x + drawdist * Math.cos(l.rad), l.y + drawdist * Math.sin(l.rad));\n    context.lineTo(r.x + drawdist * Math.cos(r.rad), r.y + drawdist * Math.sin(r.rad));\n    context.lineTo(r.x, r.y);\n\t\tcontext.fillStyle = gradient;\n    context.fill();\n\n\t\t// calculate distance between box and player\n\t\tconst multiplier = 0.1;\n\t\tconst offsetX = (x+w/2 - px) * multiplier;\n\t\tconst offsetY = (y+h/2 - py) * multiplier;\n\n\t\t//draw vertical side\n\t\tcontext.beginPath();\n\n\t\t// draw vertical side\n\t\tif (offsetY > 0){\n\t\t\tcontext.moveTo(x, y);\n\t    context.lineTo(x+w, y);\n\t    context.lineTo(x+w+offsetX, y+offsetY);\n\t    context.lineTo(x+offsetX, y+offsetY);\n\t\t\tcontext.fillStyle = (py > y) ? '#222' : calcLight(offsetX, offsetY - h/2);\n\t\t} else {\n\t\t\tcontext.moveTo(x, y+h);\n\t    context.lineTo(x+w, y+h);\n\t    context.lineTo(x+w+offsetX, y+h+offsetY);\n\t    context.lineTo(x+offsetX, y+h+offsetY);\n\t\t\tcontext.fillStyle = (py < y+h) ? '#222' : calcLight(offsetX, offsetY + h/2);\n\t\t}\n\n\t\tcontext.fill();\n\n\t\t//draw vertical side\n\t\tcontext.beginPath();\n\n\t\tif (offsetX > 0){\n\t\t\tcontext.moveTo(x, y);\n\t\t\tcontext.lineTo(x+offsetX, y+offsetY);\n\t\t\tcontext.lineTo(x+offsetX, y+h+offsetY);\n\t\t\tcontext.lineTo(x, y+h);\n\t\t\tcontext.fillStyle = (px > x) ? '#222' : calcLight(offsetX - w/2, offsetY);\n\t\t} else {\n\t\t\tcontext.moveTo(x+w, y);\n\t\t\tcontext.lineTo(x+w+offsetX, y+offsetY);\n\t\t\tcontext.lineTo(x+w+offsetX, y+h+offsetY);\n\t\t\tcontext.lineTo(x+w, y+h);\n\t\t\tcontext.fillStyle = (px < x+w) ? '#222' : calcLight(offsetX + w/2, offsetY);\n\t\t}\n\n\t\tcontext.fill();\n\n\t\t// draw box top\n\t\tcontext.fillStyle = '#222';\n\t\tcontext.fillRect(x + offsetX, y + offsetY, w, h);\n\n\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./source/box.js","export const rad = (x1, y1, x2, y2) => {\n\n  //calc delta\n  let dy = y1 - y2,\n      dx = x1 - x2;\n\n  //return rad\n  return Math.atan2(dy, dx);\n\n};\n\nexport const calcLight = (x, y) => {\n\n\tlet dist = Math.sqrt(x * x + y * y);\n\n\treturn 'hsl(0,0%,'+(dist*2-100)+'%)';\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/util.js","export default class Mouse {\n\n\tconstructor() {\n\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\n\t\tdocument.addEventListener('mousemove', this.mousemove.bind(this));\n\n\t}\n\n\tmousemove(e) {\n\t\tthis.x = e.clientX;\n\t\tthis.y = e.clientY;\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./source/mouse.js","export default class Keybord {\n\n\tconstructor() {\n\n\t\t// log pressed keyes\n\t\tthis.pressedKeys = [];\n\n\t\t// add event listeners\n\t\tdocument.addEventListener('keydown', this.keydown.bind(this));\n\t\tdocument.addEventListener('keyup', this.keyup.bind(this));\n\n\t}\n\n\tkeydown(event) {\n\n\t\t// save pressed key\n\t\tthis.pressedKeys[event.keyCode] = true;\n\t\tthis.pressedKeys[event.key] = true;\n\t\tthis.pressedKeys[event.code] = true;\n\n\t}\n\n\tkeyup(event) {\n\n\t\t// forget pressed key\n\t\tthis.pressedKeys[event.keyCode] = false;\n\t\tthis.pressedKeys[event.key] = false;\n\t\tthis.pressedKeys[event.code] = false;\n\n\t}\n\n\tisPressed(key) {\n\n\t\t// check if key is pressed\n\t\treturn this.pressedKeys[key];\n\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./source/keyboard.js"],"sourceRoot":""}